<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <script src="js/jquery-1.12.4.min.js"></script>
    <script src="js/common.js"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <title>card game</title>
    <script>
        var colorsArray = ['red', 'blue', 'green', 'yellow'];
        var clickItem = [];
        var color = 0;
        var cloneColor = 0;
        
        $(document).ready(function(){
            var $cardsContainer = $('#cardsContainer');

            $.each(colorsArray, function (idx, val) {
                var $li = $('<li/>', {'style': 'background-color:' + val});
                $cardsContainer.append($li);
            });

            $.each(colorsArray, function (idx, val) {
                var cardsContainerClone = $cardsContainer.children().eq(idx).clone().addClass('clone');
                $cardsContainer.append(cardsContainerClone);
                $cardsContainer.children().eq(idx).attr('data-color', val).attr('data-cloneColor', val);
                $('.clone').eq(idx).attr('data-color', val).attr('data-cloneColor', val);
            });
            
            $('.cards ul').children().click(function(){
                color = $(this).attr('data-color');
                console.log(color);
                console.log(cloneColor);
                if (clickItem.length > 0 && clickItem.length < 2) {
                    clickItem.push($(this).attr('data-cloneColor'));
                    console.log(clickItem.length);
                    if (clickItem[0] == clickItem[1]) {
                        $("li[data-color='red']").css({
                            'opacity': '0'
                        });
                        clickItem = [];
                    }
                }
                else if (clickItem.length < 1) {
                    clickItem.push($(this).attr('data-color'));
                    console.log(clickItem.length);
                    $(this).css({
                        'opacity': '0.8'
                    })
                }
            });
        });
    </script>
</head>

<body>
<section>
    <div class="cards">
        <ul id="cardsContainer">
        </ul>
    </div>
</section>
</body>

</html>