<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <title>Color.</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Damion" rel="stylesheet">
    <script src="js/jquery-1.12.4.min.js"></script>
</head>
<body>
<header>
    <div class="navwrap">
        <nav>
            <ul>
                <li class="menu1"><a href="index.html">pageMain<span></span></a></li>
                <li class="menu2"><a href="sub1.html">pageOne<span></span></a></li>
                <li class="menu3"><a href="sub2.html">pageTwo<span></span></a></li>
            </ul>
        </nav>
    </div>
    <div class="menu-icon">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
    </div>
</header>
<script>
    $(document).ready(function(){
        $(".menu-icon").click(function(){
            $(".navwrap").toggleClass('active');
            $(".menu-icon").toggleClass('active2');
        });
        $(".menu1 > a").mouseenter(function(){
            $(this).children().animate({
                width: '100%'
            },'ease-in', function(){
                $(this).animate({
                    width: 0
                },'ease-in');
            });
        });
        $(".menu2 > a").mouseenter(function(){
            $(this).children().animate({
                width: '100%'
            },'ease-in', function(){
                $(this).animate({
                    width: 0
                },'ease-in');
            });
        });
        $(".menu3 > a").mouseenter(function(){
            $(this).children().animate({
                width: '100%'
            },'ease-in', function(){
                $(this).animate({
                    width: 0
                },'ease-in');
            });
        });
        
        function bar() {
            $(this).children().animate({
                width: '100%'
            },'ease-in',function(){
                $(this).animate({
                    width: 0
                },'ease-in');
            });
        };
    });
</script>
<section>
    <div id="imageSlider" class="imageSlider">
        <ul id="sliderContainer" class="sliderContainer">
        </ul>
    </div>
    <div class="container">
        <h2>
            Color.<br>is anything
        </h2>
    </div>
</section>
<script>
    var color = ['#563fff', '#3eb4f2', '#f9e559', '#6ccecb'];
    $(document).ready(function(){
        var w = window.innerWidth;
        var h = window.innerHeight;
        var $sliderContainer = $('#sliderContainer');
        var mp = color.length; //컨텐츠 전체 길이
        var cw = $sliderContainer.width(); //컨텐츠의 wiuth
        var cp = 0;
        var as = false; //애니메이션 진행 여부
        var rt = 0; //자동 슬라이드 시간
        //색상 삽입
        $.each(color, function (idx, val) {
            var $li = $('<li/>', {'style': 'background-color:' + val});
            $sliderContainer.append($li);
        });
        //슬라이드 이미지의 크기를 해상도의 맞게 설정
        $sliderContainer.children().css({
            width: w+'px',
            height: h+'px'
        });
        //슬라이드 애니메이션을 줄때 더미 컨텐츠
        var cl = $sliderContainer.children().last().clone();
        var cf = $sliderContainer.children().first().clone();
        
        $sliderContainer.prepend(cl);   //컨테이너 마지막에 cl 삽입
        $sliderContainer.append(cf);    //컨테이너 처음에 cf 삽입
        
        cp = 1;
        $sliderContainer.width((mp + 2) * cw).css('margin-left', -1 * cw);
        
        makeInterval(true);

        function move(cPage, cWidth) {

            as = true;

            $sliderContainer.animate({'margin-left': cPage * cWidth * -1 }, {
                duration: 1000,
                complete: function () {
                    as = false;
                    if (cPage === 0) {
                        cp = mp;
                        $sliderContainer.css('margin-left', cw * cp * -1);
                    } else if (cPage === mp + 1) {
                        cp = 1;
                        $sliderContainer.css('margin-left', cw * cp * -1);
                    }
                }
            });

        }
        
        function makeInterval(bool) {
            if (bool) {
                rt = setInterval(function () {
                    cp += 1;
                    move(cp, cw);
                }, 3000);
            } else {
                clearInterval(rt);
            }
        }
    });
</script>
</body>
</html>
